#!/usr/bin/env nu

# Brightness
def main [] {
    main get
}

# Get the current brightness in percent
def "main get" [] {
    let $v = (brightnessctl g | into int)
    let $max = (brightnessctl m | into int)
    let $p = ((($v / $max) * 100) | math round)
    $"($v) / ($max) \(($p)%\)"
}

# Set brightness
def "main set" [$v: string] {
    brightnessctl set $v
    notify
}

# Decrease brightness by 5%
def "main dec" [] {
    main set "10%-"
}

# Increase brightness by 5%
def "main inc" [] {
    main set "10%+"
}

def notify [] {
    msg "brightness" $"Brightness: (main get)"
}
