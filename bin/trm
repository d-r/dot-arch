#!/usr/bin/env nu

use ~/dot/nu/niri.nu *

# Spawn a terminal and optionally run a command inside of it
def --wrapped main [...$cmd, --class:string] {
    let $class = ($class | default kitty)
    wm spawn kitty --class $class -d (cwd) -- ...$cmd
}

# Get the working directory for the focused workspace
def cwd [] {
    match (wm focused-workspace).name {
        "web" => "~/dl"
        "dot" => "~/dot"
        "dev" => "~/src"
        "brn" => "~/brain"
        "snd" => "~/snd"
        _ => "~"
    }
    | path expand
}
