#!/usr/bin/env nu

use ~/dot/nu/niri.nu *

const $APP_ID = "modal"

def main [...$cmd] {
    let $w = (wm window-with-app-id $APP_ID)
    if ($w | is-empty) {
        trm --config $APP_ID --app-id $APP_ID ...$cmd
    } else {
        wm close-window $w.id
    }
}
